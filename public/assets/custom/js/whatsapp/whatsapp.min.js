let isConnected=!1;const check=()=>{let e=setInterval(()=>{isConnected||$.get("whatsapp/check/instance",(n,t)=>{0!==n.instance_data.user.length&&(isConnected=!0,clearInterval(e),$(".qrDivision").html(`<b><img draggable="false" src="${connectedImage}"><h3 class="instanceReady">Connected</h3></b>`))})},3e3)};let createInterval;const createInstance=()=>{isConnected||$.post("whatsapp/create/instance",(e,n)=>{if($(".qrLoadingSpinner").hide(),e.error)return clearInterval(createInterval),swal("Error",e.message,"error"),!1;""!==e.qrcode&&($(".instanceReady, .generateButton").hide(),$("#qrcode, #qrcode-container").show(),$("#qrImage").attr("src",e.qrcode))})};$(document).ready(()=>{$(".generateButton").on("click",e=>{e.preventDefault(),$(".generateButton").hide(),$(".qrLoadingSpinner").show(),check(),createInstance(),createInterval=setInterval(createInstance,2e4)})});